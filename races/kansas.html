<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kansas Senate Race - 2026 Projection</title>
    <link rel="stylesheet" href="race-styles.css">
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Kansas Senate Race - 2026</h1>
            <div class="version-badge">v1.11 • KEY RACE</div>
            <a href="../index.html" class="back-link">← Back to Map</a>
        </div>

        <div class="content-grid">
            <div class="projection-panel">
                <div class="projection-result tossup" id="projection-result">
                    <h2 id="projection-text">Too Close To Call</h2>
                    <p class="projection-confidence" id="projection-confidence">Enter vote data to see projection</p>
                </div>

                <div class="vote-totals">
                    <div class="vote-total dem">
                        <div class="label">Democrat Votes</div>
                        <div class="number" id="dem-votes">0</div>
                    </div>
                    <div class="vote-total rep">
                        <div class="label">Republican Votes</div>
                        <div class="number" id="rep-votes">0</div>
                    </div>
                </div>

                <div class="vote-bar">
                    <div class="dem-bar" id="dem-bar" style="width: 50%;">50%</div>
                    <div class="rep-bar" id="rep-bar" style="width: 50%;">50%</div>
                    <div class="other-bar" id="other-bar" style="width: 0%; display: none;">0%</div>
                </div>

                                <div class="projection-details">
                    <h3>Vote Tracking</h3>
                    <div class="detail-row highlight">
                        <span class="detail-label">Expected Total Votes:</span>
                        <span class="detail-value" id="expected-votes">-</span>
                    </div>
                    <div class="detail-row highlight">
                        <span class="detail-label">Votes Reported:</span>
                        <span class="detail-value" id="total-votes">0</span>
                    </div>
                    <div class="detail-row highlight">
                        <span class="detail-label">Est. Votes Remaining:</span>
                        <span class="detail-value" id="remaining-votes">-</span>
                    </div>
                    <div class="detail-row">
                        <span class="detail-label">Percent Reported:</span>
                        <span class="detail-value" id="percent-reported">0%</span>
                    </div>
                    <div class="detail-row">
                        <span class="detail-label">Vote Margin:</span>
                        <span class="detail-value" id="vote-margin">-</span>
                    </div>
                    <div class="detail-row">
                        <span class="detail-label">Percentage Margin:</span>
                        <span class="detail-value" id="pct-margin">-</span>
                    </div>
                </div>
            </div>
            </div>

            <div class="county-input-section">
                <h2>County Vote Totals</h2>
                <div id="county-list"></div>
                <div class="controls">
                    <button class="btn btn-calculate" onclick="projection.calculateAdvancedProjection()">Calculate Projection</button>
                    <button class="btn btn-reset" onclick="projection.resetVotes()">Reset All</button>
                </div>
            </div>
        </div>
    </div>

    <script src="projection-engine.js?v=10"></script>
    <script>
        // Kansas major counties
        const counties = [
            'Johnson', 'Sedgwick', 'Shawnee', 'Wyandotte', 'Douglas', 'Leavenworth', 'Riley',
            'Saline', 'Butler', 'Reno', 'Crawford', 'Finney', 'Harvey', 'Ford', 'Ellis',
            'Geary', 'Lyon', 'McPherson', 'Cherokee', 'Cowley', 'Dickinson', 'Atchison', 'Barton',
            'Bourbon', 'Brown', 'Cloud', 'Coffey', 'Doniphan', 'Franklin', 'Grant', 'Gray',
            'Greeley', 'Greenwood', 'Hamilton', 'Harper', 'Haskell', 'Hodgeman', 'Jackson',
            'Jefferson', 'Labette', 'Linn', 'Marion', 'Marshall', 'Miami', 'Montgomery',
            'Morris', 'Nemaha', 'Neosho', 'Ness', 'Norton', 'Osage', 'Ottawa', 'Pawnee',
            'Phillips', 'Pottawatomie', 'Pratt', 'Rawlins', 'Republic', 'Rice', 'Rush',
            'Russell', 'Scott', 'Seward', 'Sumner', 'Thomas', 'Trego', 'Wabaunsee', 'Wallace',
            'Washington', 'Wilson', 'Woodson'
        ];

        // Historical data (Red state)
        const historicalData = {
            'Johnson': { demShare: 0.5159, turnout: 342000 },
            'Sedgwick': { demShare: 0.4359, turnout: 256000 },
            'Shawnee': { demShare: 0.4759, turnout: 95000 },
            'Wyandotte': { demShare: 0.6459, turnout: 79000 },
            'Douglas': { demShare: 0.6359, turnout: 65000 },
            'Leavenworth': { demShare: 0.4759, turnout: 43000 },
            'Riley': { demShare: 0.4159, turnout: 38000 },
            'Saline': { demShare: 0.3959, turnout: 30000 },
            'Butler': { demShare: 0.3159, turnout: 38000 },
            'Reno': { demShare: 0.3759, turnout: 34000 },
            'Crawford': { demShare: 0.4159, turnout: 22000 },
            'Finney': { demShare: 0.3759, turnout: 18000 },
            'Harvey': { demShare: 0.3559, turnout: 18000 },
            'Ellis': { demShare: 0.3959, turnout: 16000 },
            'Geary': { demShare: 0.4559, turnout: 14500 }
        };

        // Fill in missing counties with Republican-leaning baseline
        counties.forEach(county => {
            if (!historicalData[county]) {
                historicalData[county] = { demShare: 0.32, turnout: 10800 };
            }
        });

        // Key race configuration
        const raceConfig = {
            isKeyRace: true,
            expectedTurnout: 1044978,
            expectedIndependent: 20900
        };

        // Initialize projection system
        const projection = new RaceProjection('Kansas', counties, historicalData, raceConfig);
        projection.initialize();
    </script>
</body>
</html>
