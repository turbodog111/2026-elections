<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Oklahoma Senate Race - 2026 Projection</title>
    <link rel="stylesheet" href="race-styles.css">
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Oklahoma Senate Race - 2026</h1>
            <div class="version-badge">v1.4</div>
            <a href="../index.html" class="back-link">‚Üê Back to Map</a>
        </div>

        <div class="content-grid">
            <div class="projection-panel">
                <div class="projection-result tossup" id="projection-result">
                    <h2 id="projection-text">Too Close To Call</h2>
                    <p class="projection-confidence" id="projection-confidence">Enter vote data to see projection</p>
                </div>

                <div class="vote-totals">
                    <div class="vote-total dem">
                        <div class="label">Democrat Votes</div>
                        <div class="number" id="dem-votes">0</div>
                    </div>
                    <div class="vote-total rep">
                        <div class="label">Republican Votes</div>
                        <div class="number" id="rep-votes">0</div>
                    </div>
                </div>

                <div class="vote-bar">
                    <div class="dem-bar" id="dem-bar" style="width: 50%;">50%</div>
                    <div class="rep-bar" id="rep-bar" style="width: 50%;">50%</div>
                </div>

                <div class="projection-details">
                    <h3>Projection Details</h3>
                    <div class="detail-row">
                        <span class="detail-label">Total Votes Reported:</span>
                        <span class="detail-value" id="total-votes">0</span>
                    </div>
                    <div class="detail-row">
                        <span class="detail-label">Counties Reporting:</span>
                        <span class="detail-value" id="counties-reporting">0 / 77</span>
                    </div>
                    <div class="detail-row">
                        <span class="detail-label">Vote Margin:</span>
                        <span class="detail-value" id="vote-margin">-</span>
                    </div>
                    <div class="detail-row">
                        <span class="detail-label">Percentage Margin:</span>
                        <span class="detail-value" id="pct-margin">-</span>
                    </div>
                </div>
            </div>

            <div class="county-input-section">
                <h2>County Vote Totals</h2>
                <div id="county-list"></div>
                <div class="controls">
                    <button class="btn btn-calculate" onclick="projection.calculateAdvancedProjection()">Calculate Projection</button>
                    <button class="btn btn-reset" onclick="projection.resetVotes()">Reset All</button>
                </div>
            </div>
        </div>
    </div>

    <script src="projection-engine.js?v=4"></script>
    <script>
        // Oklahoma major counties
        const counties = [
            'Oklahoma', 'Tulsa', 'Cleveland', 'Canadian', 'Comanche', 'Rogers', 'Wagoner', 'Pottawatomie',
            'Muskogee', 'Creek', 'Garfield', 'Payne', 'Washington', 'Grady', 'Kay', 'Carter',
            'Le Flore', 'McClain', 'Pontotoc', 'Bryan', 'Stephens', 'Pittsburg', 'Delaware',
            'Cherokee', 'Mayes', 'Beckham', 'Logan', 'Woodward', 'Custer', 'Lincoln',
            'Sequoyah', 'Okmulgee', 'Jackson', 'Osage', 'Caddo', 'Kingfisher', 'Seminole',
            'Blaine', 'Ottawa', 'Noble', 'Adair', 'Craig', 'Garvin', 'McIntosh', 'Haskell',
            'Latimer', 'Texas', 'Nowata', 'Okfuskee', 'Hughes', 'Murray', 'Atoka', 'Coal',
            'Cotton', 'Dewey', 'Ellis', 'Greer', 'Harmon', 'Harper', 'Jefferson', 'Johnston',
            'Love', 'Major', 'Marshall', 'McCurtain', 'Pushmataha', 'Roger Mills', 'Tillman',
            'Washita', 'Woods', 'Alfalfa', 'Beaver', 'Cimarron', 'Grant'
        ];

        // Historical data (Deep red state)
        const historicalData = {
            'Oklahoma': { demShare: 0.40, turnout: 435000 },
            'Tulsa': { demShare: 0.42, turnout: 360000 },
            'Cleveland': { demShare: 0.44, turnout: 155000 },
            'Canadian': { demShare: 0.35, turnout: 85000 },
            'Comanche': { demShare: 0.38, turnout: 62000 },
            'Rogers': { demShare: 0.30, turnout: 58000 },
            'Wagoner': { demShare: 0.32, turnout: 48000 },
            'Pottawatomie': { demShare: 0.38, turnout: 42000 },
            'Muskogee': { demShare: 0.45, turnout: 42000 },
            'Creek': { demShare: 0.35, turnout: 42000 },
            'Garfield': { demShare: 0.28, turnout: 35000 },
            'Payne': { demShare: 0.42, turnout: 48000 },
            'Washington': { demShare: 0.30, turnout: 32000 },
            'Grady': { demShare: 0.30, turnout: 32000 },
            'Kay': { demShare: 0.35, turnout: 28000 }
        };

        // Fill in missing counties with Republican-leaning baseline
        counties.forEach(county => {
            if (!historicalData[county]) {
                historicalData[county] = { demShare: 0.32, turnout: 18000 };
            }
        });

        // Initialize projection system
        const projection = new RaceProjection('Oklahoma', counties, historicalData);
        projection.initialize();
    </script>
</body>
</html>
